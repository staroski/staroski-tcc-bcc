@echo OFF
@echo(

REM ##########
REM # In√≠cio #
REM ##########

@echo Preparando para executar subst...
@pause

REM Criando unidade S: para o workspace pessoal do Staroski
if exist E:\unidade_S (
	@echo Criando unidade S: no HD externo E:
	call:create_unit S: E:\unidade_S
) else (
	call:create_unit S: C:\unidade_S
)

REM Criando unidade T: para o eclipse workspace do TCC do Staroski
if exist E:\unidade_T (
	@echo Criando unidade T: no HD externo E:
	call:create_unit T: E:\unidade_T
) else (
	call:create_unit T: C:\unidade_S\staroski-tcc-bcc\default\Workspace
)

REM ##########
REM #  Final #
REM ##########
@pause
goto:eof


:create_unit
@echo tentando apagar unidade %~1 existente...
subst %~1 /D
@echo criando unidade %~1...
subst %~1 %~2
if exist %~1 (
  @echo unidade %~1 criada com sucesso!
) else (
  @echo nao foi possivel criar unidade %~1
)
@echo(
goto:eof